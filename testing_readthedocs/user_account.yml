---
 - hosts: localhost
   gather_facts: no
   vars_file: 
    - external_vars.yml
   tasks:
    - name: Create cluster user account
      sf_user_account:
                hostname: "{{ solidfire_hostname }}"
                username: "{{ solidfire_username }}"
                password: "{{ solidfire_password }}"
                state: present
                account_name: cluster_user
                account_password: "{{ solidfire_account_password }}"
                user_type: cluster
                role: administrator
                access: "reporting,volumes,nodes,accounts,drives"

    - name: Create ldap user account
      sf_user_account:
                hostname: "dfw01sdfr01.webex.com"
                username: "webex_automation"
                password: "webex_automation"
                state: present
                account_name: ldap_user
                user_type: ldap
                role: system engineer
                access: "reporting,volumes"

    - name:  update cluster user account
      sf_user_account:
                hostname: "dfw01sdfr01.webex.com"
                username: "webex_automation"
                password: "webex_automation"
                state: present
                account_password: test123
                account_id: 67
                access: "reporting,volumes,nodes,accounts,drives"

    - name:  delete user account
      sf_user_account:
                hostname: "dfw01sdfr01.webex.com"
                username: "webex_automation"
                password: "webex_automation"
                state: absent
                account_id: 66
    
    - debug: var=result



